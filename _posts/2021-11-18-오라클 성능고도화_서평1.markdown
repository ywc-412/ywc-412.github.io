---
layout: post
title:  "SQLP를 준비하며"
date:   2021-11-21
categories: 데이터베이스
---
#### SQLP를 준비하며,
###### SQLD 자격을 취득 후 SQLP를 목표로 공부를 하고있다.
###### 현재 친절한 SQL 튜닝 책을 모두 읽은 상태이며, 좀 더 디테일하게 공부하고자 오라클 성능 고도화 원리와 해법1 책을 읽고있다.
###### 책 표지는 전공책마냥 무시무시하게 생겼다.
###### 아무튼, 본론으로 들어와서 책을 읽은 후 생각한 점을 블로그에 적으려고 한다.
###### 처음엔 읽은 내용을 요약해서 쓰려고 했으나, 생각없이 ctrl + c ctrl + v 만 할 것 같아서, 
###### 읽은 내용에 대해서 '나'의 생각을 써내려가고자 한다.
<pre>
<code>
    데이터베이스 성능 튜닝이라고 하면 혹자는 DBA팀 역할이라고 생각하기 쉽지만, 데이터베이스 성능에 영향을 미치는 가장 핵심적인 요소는 모두 애플리케이션에 집중되어 있다.
    오라클 성능 고도화 원리와 해법1 책 - 저자 서문 발췌. 
</code>
</pre>
###### 회사 업무를 처리하는 도중 DBA 에게 연락이 와 UPDATE 쿼리문을 주면서 애플리케이션에서 해당 쿼리 돌면서 테이블에 Lock 이 걸린 것 같다고 연락이 왔던 적이 있다.
###### 나는 해결방법을 알려줄 줄 알았지만, 그는 락이 걸린 것 같다고만 하고 뒤도 돌아보지 않은 채 떠났다....
###### DBA가 도대체 하는게 뭐야?! 라고 생각하며 왜 그렇게 된 것인고.. 생각하며 DBA가 알려준 쿼리를 가지고 운영 DB 실행계획을 떠보았는데, 코스트가 어마어마 했다. 코스트에 대해 자세히 모르는 나도 아 굉장히 높은 수치라는 걸 눈치 챌 정도로 높은 수치였다.(실제로 업데이트가 50분째 진행 중이였다.)
###### 어떻게 해야하지 하며 삽질을 하던 중 친절한 SQL 튜닝 책을 보면서 익혔던 인덱스에 대해서 번뜩 생각이 나서, 업데이트 쿼리에 있는 WHERE 에 걸려있는 컬럼들에 대해 인덱스를 생성해주고 다시 실행계획을 떠보니 코스트가 확실히 많이 줄었다.
###### 인덱스 생성 후 다시 업데이트 진행해보니 5분이 채 걸리지 않게 되었다.
###### 튜닝이라고 해야할지 모르겠는 업무를 하면서, 나를 떠나버린 DBA를 떠올리며 너무하네 라고 생각했었는데, 
###### 지금와서 생각해보니, 튜닝업무가 꼭 DBA 업무만은 아니겠구나,, 라고 생각하기도 한다. 왜냐,,

###### 데이터베이스의 성능 == 애플리케이션의 성능 ? true 

